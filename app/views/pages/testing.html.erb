 <html>
  <head>
    <style>

    body {
      margin: 0px;
      padding: 0px;
      background-color: whitesmoke;
    }

    #header {
      position: -webkit-sticky; /* Safari */
      position: sticky;
      top: 0;
      z-index: 2;

      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 7vh;
    }

    .carousel-items{

    }

    .carousel-item {
      display: flex;
      opacity: 1;
      width: 100%;
      height: 100vh;
    }

    #carousel-container {
      background-color: grey;
      z-index: 1;
      width: 100%;
      height: 100vh;
      margin-top: -7vh;

      position: relative; /* to place the buttons */

      display: flex;
      overflow: hidden
    }

    #prev-button, #next-button {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
    }

    #prev-button {
      left: 0; /* This positions the prev button on the left side of the carousel */
    }

    #next-button {
      right: 0; /* This positions the next button on the right side of the carousel */
    }

    #navbar {
      justify-content: space-between;
      background-color: grey;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-variant: small-caps;

      position: -webkit-sticky; /* Safari */
      position: sticky;
      top: 7vh;
    }

    .navbar-item {
      margin: 0em;
      padding: 0.3em 2.2em;
    }

    .navbar-item:hover {
      background-color: black;
    }

    .medium-text {
      font-size: 1.8em;
    }
    .box {
      width: 90%;
      margin: auto;
      background-color: white;
    }

    .flex {
      display: flex;
      align-items: center;
      gap: 1.2em;
    }

    .img-responsive {
      object-fit: cover;
      width: 33%;
    }

    .centered-image {
      display: block;
      margin: auto;
    }

    .regular-text {
      font-size: 1.2em;
    }



    #footer {
      background-color: grey;
      margin-top: 3em;
    }

    </style>
  </head>
  <body>

    <div id="header">
      <p class="medium-text" style="margin: 0.5em; font-size: 1.8em;">Celler Ardèvol</p>
    </div>

    <div id= "carousel-container" style="">
      <div id="carousel-items">
        <img class="carousel-item" src="https://via.placeholder.com/199" style="min-width: 100vw; object-fit: cover">
        <img class="carousel-item" src="https://via.placeholder.com/800x799" style="min-width: 100vw; object-fit: cover">
      </div>
      <button id="prev-button">Previous</button>
      <button id="next-button">Next</button>
    </div>

    <div id="navbar">
      <p class="navbar-item">Qui sóm?</p>
      <p class="navbar-item">Els vins</p>
      <a class="navbar-item" href="#contacte">Contacte</a>
    </div>



    <div class="box" style="margin-top: 3em">
      <div class="grid" style = "display: grid; grid-template-columns: 1fr 1fr; gap: 3%; align-items: center;">
        <div>
          <h1>Lorem ipsum</h1>
          <p class="regular-text" style = "padding-right: 6em">
          Dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Augue neque gravida in fermentum et. Nibh tortor id aliquet lectus proin. Rhoncus dolor purus non enim praesent elementum. Sagittis id consectetur purus ut faucibus pulvinar elementum integer. Ultricies integer quis auctor elit sed vulputate mi sit. Tristique senectus et netus et malesuada. Mi tempus imperdiet nulla malesuada pellentesque. Adipiscing elit pellentesque habitant morbi tristique senectus. Porttitor rhoncus dolor purus non enim praesent elementum. Pellentesque pulvinar pellentesque habitant morbi tristique. Morbi tristique senectus et netus et malesuada fames ac turpis. Elementum sagittis vitae et leo duis ut.
          <br>
          Magna fermentum iaculis eu non diam phasellus. Dui id ornare arcu odio ut. Scelerisque eleifend donec pretium vulputate sapien nec. Sociis natoque penatibus et magnis dis parturient montes nascetur. Quis auctor elit sed vulputate mi. Dapibus ultrices in iaculis nunc sed augue lacus viverra. Magna fermentum iaculis eu non. At urna condimentum mattis pellentesque id. Ut aliquam purus sit amet luctus venenatis lectus magna fringilla. Lectus proin nibh nisl condimentum id venenatis. Urna duis convallis convallis tellus. Mattis molestie a iaculis at erat. Sed elementum tempus egestas sed.
          </p>
        </div>
      <div style= "background-color: red">
        <img src="https://via.placeholder.com/300" alt="" style = "object-fit: cover; width: 100%; display: block">
      </div>
    </div>
    </div>

<div style="height: 100vh">o</div>

    </div>


    <div id="footer">
      <p class="" style="text-align: center; ">Celler Ardèvol <br> contact info <br> website by <br> something else </p>
    </div>
  </body>



<script>
  var carouselContainer = document.getElementById("carousel-container");
  var carouselItem = document.querySelector(".carousel-item");
  var carouselItems = document.querySelector(".carousel-items");

function headerColorChange() {
  var header = document.getElementById("header");
  var rect = carouselContainer.getBoundingClientRect();
  var carouselPosition = rect.bottom + window.pageYOffset;
  let headerHeight = header.offsetHeight;
  let carouselHeight = carouselContainer.offsetHeight;

  window.onscroll = function() {
    if(window.pageYOffset >= (carouselPosition - headerHeight)){
      header.style.backgroundColor = "grey"}
    else {header.style.backgroundColor = "transparent"}
    function opacityCarousel() {
     //console.log(window.pageYOffset / carouselHeight)
     carouselItem.style.opacity = 1 - (window.pageYOffset / carouselHeight)

    }
    opacityCarousel()
  }
}

headerColorChange()

window.addEventListener("resize", handleResize);
function handleResize() {
  headerColorChange()
}


currentIndex = 1
 nextButton = document.getElementById("next-button")
 prevButton = document.getElementById("prev-button")

 nextButton.addEventListener('click', () => {
  console.log("click")
  currentIndex++;
  carouselItem.style.transform = `translateX(${-currentIndex * 100}%)`;
});


 prevButton.addEventListener('click', () => {
  console.log("clickprev")
  currentIndex--;
  carouselItem.style.transform = `translateX(${+currentIndex * 100}%)`;
});
</script>
</html>
